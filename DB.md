CREATE DATABASE IF NOT EXISTS ecommerce_dbTest;
USE ecommerce_dbTest;

CREATE TABLE IF NOT EXISTS Category (
IDCategory INT PRIMARY KEY AUTO_INCREMENT,
NameCategory VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS ProductType (
IDType INT PRIMARY KEY AUTO_INCREMENT,
NameType VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS Franchise (
IDFranchise INT PRIMARY KEY AUTO_INCREMENT,
NameFranchise VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS User (
IDUser INT PRIMARY KEY AUTO_INCREMENT,
FirstName VARCHAR(255) NOT NULL,
LastName VARCHAR(255) NOT NULL,
Email VARCHAR(255) NOT NULL,
Image VARCHAR(255),
PasswordUser VARCHAR(255) NOT NULL -- Considerar almacenar contrase√±as de manera segura
);

CREATE TABLE IF NOT EXISTS Product (
IDProduct INT PRIMARY KEY AUTO_INCREMENT,
IDCategory INT NOT NULL,
IDType INT NOT NULL,
NameProduct VARCHAR(255) NOT NULL,
Price DECIMAL(10, 2) NOT NULL,
DescriptionProduct TEXT,
FOREIGN KEY (IDCategory) REFERENCES Category(IDCategory),
FOREIGN KEY (IDType) REFERENCES ProductType(IDType)
);

CREATE TABLE IF NOT EXISTS ShoppingCart (
IDCart INT PRIMARY KEY AUTO_INCREMENT,
IDUser INT NOT NULL,
IDProduct INT NOT NULL,
Quantity INT NOT NULL,
UnitPrice DECIMAL(10, 2) NOT NULL,
CartStatus VARCHAR(50) NOT NULL,
FOREIGN KEY (IDUser) REFERENCES User(IDUser),
FOREIGN KEY (IDProduct) REFERENCES Product(IDProduct)
);
